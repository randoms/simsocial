基本的想法可以看这里 http://nowhere.shareyan.cn/blog/randoms/54a934632e57004ea671c2ba
这个项目是用来验证其中的设想的程序

首先把问题最简化，村民的需求简化到只有食物需求，地图现在简化成二维的，用canvas画出来。所以整个模拟过程可以完全做成一个静态的网页。

然后就是分析城镇的基本需求
城镇的目标就是发展和扩张。
	这里就有问题，拿什么来衡量城镇的发展程度。
	城镇的所有面积又如何计算。
	好像没有必要纠结在城镇的所有领地上。因为村民是比较自由的可以在城镇间自由行动。城镇的领地是没什么意义的。

	城镇的发展程度可以用为城镇工作的人来衡量。或者说可以用GDP来衡量。也就是城镇人口的产出。或者更简单些就用粮食的存储量来进行衡量。
	以后资源考虑的比较多的时候就可以用总的财富积累量来进行衡量。固定资产也应该在考虑范围之内，比如说城镇建的房子。

	所以现在城镇的目标就很明确了，吸引更多的人口，积累更多的财富。

城镇的信息获取
	城镇对于周围环境的了解必须通过村民巡逻。因为我感觉信息的不对成性是社会的关键。也就是不是所有的事情都是大家都知道的。信息的传递过程好像是必要的，
	当然这只是我的个人感觉。

	城镇对于周围的环境是通过发布巡逻任务，让村民进行巡逻来获取的。

城镇应该获取的信息
	当前城镇的收入和支出情况。

城镇的所有信息种类
	和城镇相关的村民数，包括为城镇工作的和在城镇居住的
	城镇总资产
	城镇的资源产出速率
	城镇的资源消耗速率
	城镇的资源储备量
	城镇的就业率
	城镇的人均资产
	城镇的贫富分布

	还可以从村民获取到临近城镇的情况

	城镇的决策就根据以上的几项进行

城镇能够做出的决策
	建造房子
	招募士兵
	建造农田
	接收移民


村民的基本需求
	食物需求
	住房需求
		为了简化问题可以把住房需求转换成食物需求，比如如果一天没有住房那么食物就减少一

村民能够实现的行动
	建造房子
	参加战争
	建造农田
	选择移民
	选择和其他村民交流
	更换职业

村民之间能够有信息交流，信息交流的内容
	彼此的职业情况
	彼此的收入情况

	当村民间的距离小于3格的时候发生交流

村民所包含的信息
	个人的收入情况
	个人的财产储备情况
	个人的支出情况

	他人的职业情况
	他人的收入
	他人的财产储备
	他人的支出

	村民的决策根据以上几点做出


城镇如何发布工作，村民如何接受工作
	这个是比较核心的问题，也是比较有趣的地方

	城镇发布工作的过程
		首先估算工作成本，举个例子来说，种田，小麦成熟假如要10天，一个人的消耗大概是一天1个面包，最多能种10块田，成熟后每块田能产2个面包。那么种田的成本就是，一天一个面包。
		收入就是一天两个面包。那么种田工作的发布价格就应该在一天一个到两个面包之间。

		当然不能考虑得这么死，如果产能过剩，或者供不应求就可能会在这个范围之外。
		所以应该先定任务的紧急程度，如果紧急程度低，那么就可以给低一点的报酬，反之就给高报酬。

		比如还是种田，预计要在20天内产出20个面包，那么就可以刚开始定为一个面包一天的报酬，假如无人应聘，现在任务就变成15天生产二十个面包，这样就可以给1.5个面包每天的报酬。以此
		类推，随着时间减少，紧急程度增加报酬也跟着增加。

		重点就是在定价上。


	村民接受工作的过程
		根据自己的需求程度进行估价。比如说自己只剩10个面包了，那么就要在10天之内找到一个工作。可能心里价位就是每天1.5个面包。但是5天还没找到，那么心理价位就可能是1.2个面包每天了。同时
		还要考虑的是工作本身可能带来的损失性，比如说战争。可能直接丧命。

		可以考虑靠几个内在的参数来影响村民的决策，这几个参数可以看成村民的不同个性，参数可以通过遗传给后代。通过进化算法这样就可以自动优化这几个参数。同样城镇也是如此，这几个参数可以
		看成城镇所采用的不同的政策，同样能够生存下来的城镇自然就是政策比较好的。


基本的物理设定
	1. 以天为单位，每天村民的消耗为1个面包，如果没有房屋居住每天的消耗是两个面包。
	2. 每天的最大行动力是40，每移动一格消耗一个行动力
		种田 		1行动力/格
		建造房子	1行动力/格

		可以考虑长时间有体力活动增加最大行动力的设定，这样有些人就会产生职业优势，促进分工的产生。
	3. 即使一天什么都不干行动力也不会加到第二天


